<!DOCTYPE html>
<script src="/js/src/APlayer-Controler.js"></script>
<div id="AP-controler"></div>
<script type="text/javascript">
var myapc=new APlayer_Controler({
		APC_dom:$('#AP-controler'),
		aplayer:ap, //此为绑定的aplayer对象
		attach_right:true,
		position:{top:'300px',bottom:''},
		fixed:true,
		btn_width:100,
		btn_height:120,
		img_src:['http://oty1v077k.bkt.clouddn.com/bukagirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/jumpgirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/pentigirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/%E8%90%8C1.gif'],
		img_style:{repeat:'no-repeat',position:'center',size:'contain'},
		ctrls_color:'rgba(173,255,47,0.8)',
		ctrls_hover_color:'rgba(255,140,0,0.7)',
		tips_on:true,
		tips_width:140,
		tips_height:25,
		tips_color:'rgba(255,255,255,0.6)',
		tips_content:{},
		timeout:30
	});
</script>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/keybook.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/keybook.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/keybooks.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="hexo,">










<meta name="keywords" content="hexo">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo下NexT主题配置">
<meta property="og:url" content="http://jinhuaixin.cn/2019/05/17/hexo下NexT主题配置/index.html">
<meta property="og:site_name" content="Ju5tice&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://i.loli.net/2019/05/17/5cdeb5927883c22604.jpg">
<meta property="og:updated_time" content="2019-06-06T17:13:49.303Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hexo下NexT主题配置">
<meta name="twitter:image" content="https://i.loli.net/2019/05/17/5cdeb5927883c22604.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://jinhuaixin.cn/2019/05/17/hexo下NexT主题配置/">





  <title>hexo下NexT主题配置 | Ju5tice's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/UESTCjhx" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ju5tice's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">与世界分享你被虐的经历</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jinhuaixin.cn/2019/05/17/hexo下NexT主题配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ju5tice">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://i.loli.net/2019/05/16/5cdd4641958de58203.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ju5tice's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">hexo下NexT主题配置</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-17T10:32:25+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/05/17/hexo下NexT主题配置/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/05/17/hexo下NexT主题配置/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  21
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="https://i.loli.net/2019/05/17/5cdeb5927883c22604.jpg"><br><a id="more"></a></p>
<div class="note success"><p>对于有博客搭建需求的人来说，hexo的确是个不错的选择，一是永久免费，不需要购买云服务器，域名也不需要备案，十分方便，二是不会出玄学问题，我第一个博客是在阿里云上用wordpress搭建的，但是没几个月后台就无法登入，原因到现在也不清楚，所以索性选择了Hexo，即使出现问题也可以直接用拷贝的blog文件夹覆盖，唯一缺点就是没有一个wordpress那样的后台可以方便地写博客和调整博客的设置。<br>NexT主题使用的人很多，功能比较全，很多坑也被踩过，但是设置比较麻烦，所以在基本把这个博客布置完成后写这个博文来记录下过程备忘，其中不少都是B站上教程中的以及其他人的博客中所述，链接一并放在后面。</p></div>
<h3 id="博客设置"><a href="#博客设置" class="headerlink" title="博客设置"></a>博客设置</h3><h4 id="更新文章"><a href="#更新文章" class="headerlink" title="更新文章"></a>更新文章</h4><ol>
<li>博客目录下执行<code>hexo new &quot;文章名字&quot;</code>,<code>source/_posts</code>里生成<code>文章名.md</code>文件</li>
<li>用markdown编写</li>
<li><p>起始字段</p>
<ul>
<li>title 文章标题</li>
<li>date 创建日期</li>
<li>updated 修改日期</li>
<li>comments 是否开启评论</li>
<li>tags 标签</li>
<li>categories 分类</li>
<li>permalink url中名字</li>
<li>mathjax 是否使用数学公式渲染</li>
</ul>
</li>
<li><p><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></p>
</li>
</ol>
<h4 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h4><ol>
<li>域名是在阿里云用学生优惠买的，这个平台的域名价格便宜，但是要备案，狗爹之类的应该不需要。</li>
<li>在控制台那个添加解析CNAME记录，就填xxxx.github.io就行，然后在github的source目录里新建一个CNAME文件，写上你的域名，保存，此时就可以用域名访问了。</li>
<li>在本地的source目录下再写一个CNAME文件以防deploy后失效。</li>
</ol>
<h4 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h4><p>打开<code>themes/next/</code>下的<code>_config.yml</code>,查找scheme，可以看到如下四种不同的风格方案：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scheme: Muse </span><br><span class="line"><span class="meta">#scheme: Mist </span></span><br><span class="line"><span class="meta">#scheme: Pisces </span></span><br><span class="line"><span class="meta">#scheme: Gemini</span></span><br></pre></td></tr></table></figure></p>
<p>去掉<code>#</code>注释，即启用对应的scheme。</p>
<h4 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h4><p>修改 <code>hexo-generator-index</code>插件，把文件：<code>node_modules/hexo-generator-index/lib/generator.js</code>中的代码替换为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">var pagination = require(&apos;hexo-pagination&apos;);</span><br><span class="line">module.exports = function(locals)&#123;</span><br><span class="line">  var config = this.config;</span><br><span class="line">  var posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class="line">        if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义</span><br><span class="line">            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排</span><br><span class="line">            else return b.top - a.top; // 否则按照top值降序排</span><br><span class="line">        &#125;</span><br><span class="line">        else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        else if(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            return 1;</span><br><span class="line">        &#125;</span><br><span class="line">        else return b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class="line">    &#125;);</span><br><span class="line">  var paginationDir = config.pagination_dir || &apos;page&apos;;</span><br><span class="line">  return pagination(&apos;&apos;, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [&apos;index&apos;, &apos;archive&apos;],</span><br><span class="line">    format: paginationDir + &apos;/%d/&apos;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>在文章中添加 top 值，数值越大文章越靠前，如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">......</span><br><span class="line">copyright: true</span><br><span class="line">top: 100</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>默认不设置则为0，数值相同时按时间排序。</p>
<h4 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h4><ul>
<li><p>博客框架默认的语言是英文，前往/themes/next/languages，查看当前NexT版本简体中文对照文件的名称是zh-Hans还是zh-CN。</p>
</li>
<li><p>再前往根目录下的_config.yml，查找language，设置成language: zh-Hans或language: zh-CN，即显示简体中文。</p>
</li>
</ul>
<h4 id="设置菜单对应页面"><a href="#设置菜单对应页面" class="headerlink" title="设置菜单对应页面"></a>设置菜单对应页面</h4><ul>
<li><p>打开themes/next/下的_config.yml，查找menu</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  #about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat`</span><br></pre></td></tr></table></figure>
<p>去掉#注释即可显示对应的菜单项，也可自定义新的菜单项。 ||之前的值是目标链接，之后的是分类页面的图标，图标名称来自于FontAwesome icon。若没有配置图标，默认会使用问号图标。</p>
</li>
</ul>
<p>新添加的菜单需要翻译对应的中文打开<code>hexo/theme/next/languages/zh-CN.yml</code>，在<code>menu</code>下自定义，如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu: </span><br><span class="line">    resources: 资源</span><br><span class="line">``` </span><br><span class="line">* hexo new page &quot;categories&quot;此时在根目录的source文件夹下会生成一个categories文件，文件中有一个index.md文件，修改内容如下:</span><br><span class="line">```html</span><br><span class="line">--- </span><br><span class="line">title: 分类 </span><br><span class="line">date: 2017-12-14 13:05:38 </span><br><span class="line">type: &quot;categories&quot; </span><br><span class="line">comments: false ---</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>注：如果有启用评论，默认页面带有评论。需要关闭的话，添加字段comments并将值设置为false。</p>
</blockquote>
<h4 id="Blockquoto引用样式"><a href="#Blockquoto引用样式" class="headerlink" title="Blockquoto引用样式"></a>Blockquoto引用样式</h4><h5 id="居中引用"><a href="#居中引用" class="headerlink" title="居中引用"></a>居中引用</h5><ul>
<li><p>HTML方式: 直接在 Markdown 文件中编写 HTML 来调用，其中 class=“blockquote-center” 是必须的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;blockquote class=&quot;blockquote-center&quot;&gt;blah blah blah&lt;/blockquote&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>标签 方式，要求版本在0.4.5或以上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% centerquote %&#125;blah blah blah&#123;% endcenterquote %&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>标签别名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% cq %&#125; blah blah blah &#123;% endcq %&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>最终效果：</p>
<p><blockquote class="blockquote-center">blah blah blah</blockquote><br><blockquote class="blockquote-center"><p>blah blah blah</p>
</blockquote><br><blockquote class="blockquote-center"><p>blah blah blah </p>
</blockquote></p>
<h5 id="Bootstrap-Callout-引用"><a href="#Bootstrap-Callout-引用" class="headerlink" title="Bootstrap Callout 引用"></a>Bootstrap Callout 引用</h5><p>使用方法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note class_name %&#125; Content &#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p>
<p>class_name 可以是 default，primary，info 等。具体效果如下：<br><div class="note default"><p>default </p></div>
<div class="note primary"><p>primary </p></div><br><div class="note success"><p>success </p></div>
<div class="note info"><p>info </p></div><br><div class="note warning"><p>warning </p></div>
<div class="note danger"><p>danger </p></div></p>
<h3 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h3><h4 id="修改站点图标"><a href="#修改站点图标" class="headerlink" title="修改站点图标"></a>修改站点图标</h4><ol>
<li>去图标网站或者自己制作32x32的图标</li>
<li>复制到<code>/themes/next/source/images/</code>下面</li>
<li>打开主题的<code>_config.yml</code>,输入：<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line"><span class="attr">  small:</span> <span class="string">/images/favicon-16x16-next.png</span></span><br><span class="line"><span class="attr">  medium:</span> <span class="string">/images/favicon-32x32-next.png</span></span><br><span class="line"><span class="attr">  apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line"><span class="attr">  safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>small和medium即为保存的图标路径</p>
<h4 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h4><ul>
<li><p>打开themes/next/下的_config.yml，查找avatar</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line"># in theme directory(source/images): /images/avatar.gif</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.gif</span><br><span class="line">avatar: http://XXXXXXXXX</span><br></pre></td></tr></table></figure>
</li>
<li><p>avatar的值是图片的链接地址(完整的URI 或者 站内的相对地址皆可)</p>
</li>
</ul>
<h4 id="代码高亮、可复制"><a href="#代码高亮、可复制" class="headerlink" title="代码高亮、可复制"></a>代码高亮、可复制</h4><h5 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h5><p>打开主题的<code>_config.yml</code>，找到<code>highlight_theme</code>属性：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Code Highlight theme</span><br><span class="line"># Available value:</span><br><span class="line">#    normal | night | night eighties | night blue | night bright</span><br><span class="line"># https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">highlight_theme: night</span><br></pre></td></tr></table></figure></p>
<p>在hexo主目录的<code>_config.yml</code>中找到或者输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: true</span><br><span class="line">  tab_replace: false</span><br></pre></td></tr></table></figure></p>
<h5 id="代码可复制"><a href="#代码可复制" class="headerlink" title="代码可复制"></a>代码可复制</h5><h4 id="背景图片-顶栏、底栏、侧栏图片及文字颜色"><a href="#背景图片-顶栏、底栏、侧栏图片及文字颜色" class="headerlink" title="背景图片/顶栏、底栏、侧栏图片及文字颜色"></a>背景图片/顶栏、底栏、侧栏图片及文字颜色</h4><p>打开<code>theme/next/source/css/_custom/custom.styl</code>，添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//背景图片</span><br><span class="line">body&#123;   </span><br><span class="line">        background:url(图片链接);</span><br><span class="line">        background-size:cover;</span><br><span class="line">        background-repeat:no-repeat;</span><br><span class="line">        background-attachment:fixed;</span><br><span class="line">        background-position:center;</span><br><span class="line">&#125;</span><br><span class="line">//顶栏图片</span><br><span class="line">.header &#123;</span><br><span class="line">          background:url(图片链接) none repeat scroll !important;</span><br><span class="line">&#125;</span><br><span class="line">//底栏背景色</span><br><span class="line">.footer &#123;</span><br><span class="line">          background:rgba(颜色rgb,透明度) none repeat scroll !important;</span><br><span class="line">&#125;</span><br><span class="line">//侧栏图片及内部文字颜色修改</span><br><span class="line">#sidebar &#123;</span><br><span class="line">            background:url(图片链接);</span><br><span class="line">            background-size: cover;</span><br><span class="line">            background-position:center;</span><br><span class="line">            background-repeat:no-repeat;</span><br><span class="line">            p,span,a &#123;color: 颜色代码;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="设置侧栏左右侧、控制按钮样式"><a href="#设置侧栏左右侧、控制按钮样式" class="headerlink" title="设置侧栏左右侧、控制按钮样式"></a>设置侧栏左右侧、控制按钮样式</h4><p>打开主题设置的<code>_config.yml</code>，找到sidebar</p>
<h5 id="设置侧栏左右"><a href="#设置侧栏左右" class="headerlink" title="设置侧栏左右"></a>设置侧栏左右</h5><ul>
<li><p>Pisces方案和Gemini方案</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sidebar:</span><br><span class="line">position: left</span><br><span class="line"><span class="meta">#position: right</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Mist方案和Muse方案</p>
</li>
</ul>
<ol>
<li>打开<code>next/source/js/src/motion.js</code>，查找<code>paddingRight</code>，把所有（2个）<code>PaddingRight</code>更改为<code>paddingLeft.</code>。</li>
<li><p>打开<code>next/source/css/_custom/custom.styl</code>，添加以下内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//侧边栏置于左侧</span><br><span class="line">.sidebar &#123;</span><br><span class="line">  left: <span class="number">0</span>; &#125;</span><br><span class="line">//侧栏开关置于左侧 </span><br><span class="line">.sidebar-toggle &#123;</span><br><span class="line">  left: $b2t-position-right; &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开<code>next/source/css/_common/components/back-to-top.styl</code>，将<code>right: $b2t-position-right;</code>改为<code>left: $b2t-position-right;</code></p>
</li>
</ol>
<h5 id="显示侧栏时机"><a href="#显示侧栏时机" class="headerlink" title="显示侧栏时机"></a>显示侧栏时机</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#post - 默认行为，在文章页面（拥有目录列表）时显示</span></span><br><span class="line"><span class="meta">#always - 在所有页面中都显示</span></span><br><span class="line"><span class="meta">#hide - 在所有页面中都隐藏（可以手动展开）</span></span><br><span class="line"><span class="meta">#remove - 完全移除</span></span><br><span class="line">display: post</span><br><span class="line"><span class="meta">#display: always</span></span><br><span class="line"><span class="meta">#display: hide</span></span><br><span class="line"><span class="meta">#display: remove</span></span><br></pre></td></tr></table></figure>
<h5 id="侧栏控制按钮修改"><a href="#侧栏控制按钮修改" class="headerlink" title="侧栏控制按钮修改"></a>侧栏控制按钮修改</h5><p>打开<code>themes/next/layout/source/js/src/motion.js</code>，找到如下代码处，更换close的内容:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var sidebarToggleLine1st = new SidebarToggleLine(&#123;</span><br><span class="line">    el: <span class="string">'.sidebar-toggle-line-first'</span>,</span><br><span class="line">    status: &#123;</span><br><span class="line">      arrow: &#123;width: <span class="string">'50%'</span>, rotateZ: <span class="string">'45deg'</span>, top: <span class="string">'2px'</span>, left: <span class="string">'6px'</span>&#125;,</span><br><span class="line">      // close: &#123;width: <span class="string">'100%'</span>, rotateZ: <span class="string">'-45deg'</span>, top: <span class="string">'5px'</span>, left: <span class="string">'0px'</span>&#125; //X形</span><br><span class="line">      close: &#123;width: <span class="string">'50%'</span>, rotateZ: <span class="string">'-45deg'</span>, top: <span class="string">'2px'</span>, left: <span class="string">'0px'</span>&#125; //箭头形</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  var sidebarToggleLine2nd = new SidebarToggleLine(&#123;</span><br><span class="line">    el: <span class="string">'.sidebar-toggle-line-middle'</span>,</span><br><span class="line">    status: &#123;</span><br><span class="line">      arrow: &#123;width: <span class="string">'90%'</span>&#125;,</span><br><span class="line">      // close: &#123;opacity: <span class="number">0</span>&#125; //X形</span><br><span class="line">      close: &#123;width: <span class="string">'90%'</span>&#125; //箭头形</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  var sidebarToggleLine3rd = new SidebarToggleLine(&#123;</span><br><span class="line">    el: <span class="string">'.sidebar-toggle-line-last'</span>,</span><br><span class="line">    status: &#123;</span><br><span class="line">      arrow: &#123;width: <span class="string">'50%'</span>, rotateZ: <span class="string">'-45deg'</span>, top: <span class="string">'-2px'</span>, left: <span class="string">'6px'</span>&#125;,</span><br><span class="line">      // close: &#123;width: <span class="string">'100%'</span>, rotateZ: <span class="string">'45deg'</span>, top: <span class="string">'-5px'</span>, left: <span class="string">'0px'</span>&#125; //X形</span><br><span class="line">      close: &#123;width: <span class="string">'50%'</span>, rotateZ: <span class="string">'45deg'</span>, top: <span class="string">'-2px'</span>, left: <span class="string">'0px'</span>&#125; //箭头形</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="设置底栏标签"><a href="#设置底栏标签" class="headerlink" title="设置底栏标签"></a>设置底栏标签</h4><p>修改<code>/themes/next/layout/_macro/post.swig</code>，搜索<code>rel=&quot;tag&quot;&gt;#</code>，将 <code>#</code> 换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code>，我使用的是<code>fa-star</code>，五角星。</p>
<h4 id="文章添加阴影、透明效果"><a href="#文章添加阴影、透明效果" class="headerlink" title="文章添加阴影、透明效果"></a>文章添加阴影、透明效果</h4><p>找到<code>theme/next/source/css/_custom/custom.styl</code><br>，添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line">.post &#123;</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   background:rgba(255,255,255,0.9) none repeat scroll !important;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="点击头像回到首页"><a href="#点击头像回到首页" class="headerlink" title="点击头像回到首页"></a>点击头像回到首页</h4><p>修改<code>/themes/next/layout/_macro/sidebar.swig</code>，找到：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"site-author-image"</span> <span class="attr">itemprop</span>=<span class="string">"image"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for( theme.avatar | default(theme.images + '/avatar.gif') ) &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">alt</span>=<span class="string">"&#123;&#123; theme.author &#125;&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在前后加上<code>&lt;a href=&quot;https://jinhuaixn.cn&quot;&gt;&lt;/a&gt;</code>，如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"site-author-image"</span> <span class="attr">itemprop</span>=<span class="string">"image"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">src</span>=<span class="string">"&#123;&#123; url_for( theme.avatar | default(theme.images + '/avatar.gif') ) &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">alt</span>=<span class="string">"&#123;&#123; theme.author &#125;&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="仿知乎粒子效果"><a href="#仿知乎粒子效果" class="headerlink" title="仿知乎粒子效果"></a>仿知乎粒子效果</h4><p>在<code>next/_config.yml</code>中有设置网页背景动画效果的选项，比如设置：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Canvas-nest</span><br><span class="line">canvas_nest: <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>就可以使用上我现在这种粒子效果，还有其他三种，如果想使用知乎那种登录效果，可通过如下方式：</p>
<ul>
<li><p>在主题目录layout下面的<code>_layout.swig</code>增加canvas</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg_content"</span>&gt;</span> <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用原生js写一个仿知乎页面</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建对象</span></span><br><span class="line">    <span class="comment">//以一个圆为对象</span></span><br><span class="line">    <span class="comment">//设置随机的 x，y坐标，r半径，_mx，_my移动的距离</span></span><br><span class="line">    <span class="comment">//this.r是创建圆的半径，参数越大半径越大</span></span><br><span class="line">    <span class="comment">//this._mx,this._my是移动的距离，参数越大移动</span></span><br><span class="line">    <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.r = <span class="built_in">Math</span>.random() * <span class="number">10</span> ;</span><br><span class="line">        <span class="keyword">this</span>._mx = <span class="built_in">Math</span>.random() ;</span><br><span class="line">        <span class="keyword">this</span>._my = <span class="built_in">Math</span>.random() ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//canvas 画圆和画直线</span></span><br><span class="line">    <span class="comment">//画圆就是正常的用canvas画一个圆</span></span><br><span class="line">    <span class="comment">//画直线是两个圆连线，为了避免直线过多，给圆圈距离设置了一个值，距离很远的圆圈，就不做连线处理</span></span><br><span class="line">    drawCircle(ctx) &#123;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        <span class="comment">//arc() 方法使用一个中心点和半径，为一个画布的当前子路径添加一条弧。</span></span><br><span class="line">        ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.r, <span class="number">0</span>, <span class="number">360</span>)</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        ctx.fillStyle = <span class="string">'rgba(204, 204, 204, 0.3)'</span>;</span><br><span class="line">        ctx.fill();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    drawLine(ctx, _circle) &#123;</span><br><span class="line">        <span class="keyword">let</span> dx = <span class="keyword">this</span>.x - _circle.x;</span><br><span class="line">        <span class="keyword">let</span> dy = <span class="keyword">this</span>.y - _circle.y;</span><br><span class="line">        <span class="keyword">let</span> d = <span class="built_in">Math</span>.sqrt(dx * dx + dy * dy)</span><br><span class="line">        <span class="keyword">if</span> (d &lt; <span class="number">150</span>) &#123;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            <span class="comment">//开始一条路径，移动到位置 this.x,this.y。创建到达位置 _circle.x,_circle.y 的一条线：</span></span><br><span class="line">            ctx.moveTo(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);   <span class="comment">//起始点</span></span><br><span class="line">            ctx.lineTo(_circle.x, _circle.y);   <span class="comment">//终点</span></span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.strokeStyle = <span class="string">'rgba(204, 204, 204, 0.3)'</span>;</span><br><span class="line">            ctx.stroke();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 圆圈移动</span></span><br><span class="line">    <span class="comment">// 圆圈移动的距离必须在屏幕范围内</span></span><br><span class="line">    move(w, h) &#123;</span><br><span class="line">        <span class="keyword">this</span>._mx = (<span class="keyword">this</span>.x &lt; w &amp;&amp; <span class="keyword">this</span>.x &gt; <span class="number">0</span>) ? <span class="keyword">this</span>._mx : (-<span class="keyword">this</span>._mx);</span><br><span class="line">        <span class="keyword">this</span>._my = (<span class="keyword">this</span>.y &lt; h &amp;&amp; <span class="keyword">this</span>.y &gt; <span class="number">0</span>) ? <span class="keyword">this</span>._my : (-<span class="keyword">this</span>._my);</span><br><span class="line">        <span class="keyword">this</span>.x += <span class="keyword">this</span>._mx / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">this</span>.y += <span class="keyword">this</span>._my / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//鼠标点画圆闪烁变动</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">currentCirle</span> <span class="keyword">extends</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">        <span class="keyword">super</span>(x, y)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    drawCircle(ctx) &#123;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        <span class="comment">//注释内容为鼠标焦点的地方圆圈半径变化</span></span><br><span class="line">        <span class="comment">//this.r = (this.r &lt; 14 &amp;&amp; this.r &gt; 1) ? this.r + (Math.random() * 2 - 1) : 2;</span></span><br><span class="line">        <span class="keyword">this</span>.r = <span class="number">8</span>;</span><br><span class="line">        ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.r, <span class="number">0</span>, <span class="number">360</span>);</span><br><span class="line">        ctx.closePath();</span><br><span class="line">        <span class="comment">//ctx.fillStyle = 'rgba(0,0,0,' + (parseInt(Math.random() * 100) / 100) + ')'</span></span><br><span class="line">        ctx.fillStyle = <span class="string">'rgba(255, 77, 54, 0.3)'</span></span><br><span class="line">        ctx.fill();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//更新页面用requestAnimationFrame替代setTimeout</span></span><br><span class="line"><span class="built_in">window</span>.requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame || <span class="built_in">window</span>.mozRequestAnimationFrame || <span class="built_in">window</span>.webkitRequestAnimationFrame || <span class="built_in">window</span>.msRequestAnimationFrame;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">let</span> w = canvas.width = canvas.offsetWidth;</span><br><span class="line"><span class="keyword">let</span> h = canvas.height = canvas.offsetHeight;</span><br><span class="line"><span class="keyword">let</span> circles = [];</span><br><span class="line"><span class="keyword">let</span> current_circle = <span class="keyword">new</span> currentCirle(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> draw = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; circles.length; i++) &#123;</span><br><span class="line">        circles[i].move(w, h);</span><br><span class="line">        circles[i].drawCircle(ctx);</span><br><span class="line">        <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; circles.length; j++) &#123;</span><br><span class="line">            circles[i].drawLine(ctx, circles[j])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (current_circle.x) &#123;</span><br><span class="line">        current_circle.drawCircle(ctx);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">1</span>; k &lt; circles.length; k++) &#123;</span><br><span class="line">            current_circle.drawLine(ctx, circles[k])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    requestAnimationFrame(draw)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> init = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">        circles.push(<span class="keyword">new</span> Circle(<span class="built_in">Math</span>.random() * w, <span class="built_in">Math</span>.random() * h));</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, init(<span class="number">60</span>));</span><br><span class="line"><span class="built_in">window</span>.onmousemove = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = e || <span class="built_in">window</span>.event;</span><br><span class="line">    current_circle.x = e.clientX;</span><br><span class="line">    current_circle.y = e.clientY;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.onmouseout = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    current_circle.x = <span class="literal">null</span>;</span><br><span class="line">    current_circle.y = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="萌萌哒的看板娘"><a href="#萌萌哒的看板娘" class="headerlink" title="萌萌哒的看板娘"></a>萌萌哒的看板娘</h4><p>(<font color="red">〃</font>’▽’<font color="red">〃</font>)<br>你需要：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* Windows 10 1803</span><br><span class="line">* node-v8.11.2-x64</span><br><span class="line">* git version 2.17.1.windows.2</span><br><span class="line">* hexo-v3.7.1</span><br><span class="line">* NexT.Muse v6.4.1</span><br><span class="line">* hexo-helper-live2d@3.1.0</span><br><span class="line">* 看板娘一只</span><br></pre></td></tr></table></figure></p>
<p>首先，在博客的根目录下执行下方命令，并可以得到类似下方的输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-helper-live2d --save</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line"></span><br><span class="line">+ hexo-helper-live2d@3.1.0</span><br><span class="line">added 6 packages from 6 contributors and audited 5818 packages in 22.674s</span><br><span class="line">found 0 vulnerabilities</span><br></pre></td></tr></table></figure></p>
<p>从<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener">作者的网站</a>选择一个live2d模型，安装<code>live2d-widget-model-你选中的萌物名字</code>获取对应资源：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-hijiki --save</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line"></span><br><span class="line">+ live2d-widget-model-hijiki@1.0.5</span><br><span class="line">added 1 package and audited 5819 packages in 9.782s</span><br><span class="line">found 0 vulnerabilities</span><br></pre></td></tr></table></figure></p>
<p>在博客根目录下的<code>_config.yml</code>中最后添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https://github.com/EYHN/hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">enable: true</span><br><span class="line">scriptFrom: jsdelivr # 默认</span><br><span class="line">pluginRootPath: live2dw/ # 插件在站点上的根目录(相对路径)</span><br><span class="line">pluginJsPath: lib/ # 脚本文件相对与插件根目录路径</span><br><span class="line">pluginModelPath: assets/ # 模型文件相对与插件根目录路径</span><br><span class="line"># scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line"># scriptFrom: unpkg # unpkg CDN</span><br><span class="line"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span><br><span class="line">tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span><br><span class="line">debug: false # 调试, 是否在控制台输出日志</span><br><span class="line">model:</span><br><span class="line">    use: live2d-widget-model-hijiki # npm-module package name</span><br><span class="line">    # use: hijiki # 博客根目录/live2d_models/ 下的目录名</span><br><span class="line">    # use: ./wives/hijiki # 相对于博客根目录的路径</span><br><span class="line">    # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json # 你的自定义 url</span><br><span class="line">    scale: 1</span><br><span class="line">    hHeadPos: 0.5</span><br><span class="line">    vHeadPos: 0.618</span><br><span class="line">display:</span><br><span class="line">    superSample: 2</span><br><span class="line">    width: 125</span><br><span class="line">    height: 125</span><br><span class="line">    position: left</span><br><span class="line">    hOffset: 30</span><br><span class="line">    vOffset: -20</span><br><span class="line">mobile:</span><br><span class="line">    show: false</span><br><span class="line">    scale: 0.05</span><br><span class="line">react:</span><br><span class="line">    opacityDefault: 1</span><br><span class="line">    opacityOnHover: 0.2</span><br></pre></td></tr></table></figure>
<p>执行命令 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>，即可在本地4000端口看到啦。</p>
<h4 id="词云"><a href="#词云" class="headerlink" title="词云"></a>词云</h4><p>词云其实就是标签做的，放在侧边栏上。需要安装插件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-cloud@^2.0.* --save</span><br></pre></td></tr></table></figure></p>
<p>接着在next/layout/_macro/sidebar.swig添加如下内容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> site.tags.length &gt; <span class="number">1</span> %&#125;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> charset=<span class="string">"utf-8"</span> src=<span class="string">"/js/tagcloud.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> charset=<span class="string">"utf-8"</span> src=<span class="string">"/js/tagcanvas.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"widget-wrap"</span>&gt;</span><br><span class="line">&lt;h3 <span class="class"><span class="keyword">class</span></span>=<span class="string">"widget-title"</span>&gt;Tag Cloud&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">&lt;div id="myCanvasContainer" class="widget tagcloud"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;canvas width="250" height="250" id="resCanvas" style="width=100%"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;&#123; list_tags() &#125;&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>canvas&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<h4 id="图片放大查看"><a href="#图片放大查看" class="headerlink" title="图片放大查看"></a>图片放大查看</h4><ul>
<li>打开站点配置文件<code>_config.yml</code>，搜索fancybox字段，设置其值为true</li>
<li>进入到<code>theme/text/</code>文件夹下</li>
<li><code>git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox</code></li>
</ul>
<p>注意！我没用这种方法，也不知道行不行。</p>
<h4 id="访问量统计"><a href="#访问量统计" class="headerlink" title="访问量统计"></a>访问量统计</h4><p><del>其实小站没必要搞</del></p>
<ul>
<li>打开<code>themes/next/</code>下的<code>_config.yml</code>，查找<code>busuanzi</code><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  total_visitors: <span class="literal">false</span></span><br><span class="line">  total_visitors_icon: user</span><br><span class="line">  total_views: <span class="literal">false</span></span><br><span class="line">  total_views_icon: eye</span><br><span class="line">  post_views: <span class="literal">true</span></span><br><span class="line">  post_views_icon: eye</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="添加文末版权声明"><a href="#添加文末版权声明" class="headerlink" title="添加文末版权声明"></a>添加文末版权声明</h4><p>在<br>主题配置文件<code>themes/next/_config.yml</code>中找到<code>creative_commons</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">creative_commons:</span><br><span class="line">    license: by-nc-sa</span><br><span class="line">    sidebar: false</span><br><span class="line">    post: true # 将false改为true即可显示版权信息       language:</span><br></pre></td></tr></table></figure></p>
<h4 id="添加本地搜索"><a href="#添加本地搜索" class="headerlink" title="添加本地搜索"></a>添加本地搜索</h4><ul>
<li><code>npm install hexo-generator-search</code></li>
<li>查找主题配置文件<code>themes/next/_config.yml</code>中的<code>local_search</code>：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">   enable: true</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="侧边栏添加音乐播放器"><a href="#侧边栏添加音乐播放器" class="headerlink" title="侧边栏添加音乐播放器"></a>侧边栏添加音乐播放器</h4><h5 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h5><p>目前没有解决的问题是网易云官网的外链会自动展开目录，而且往下拖动会出现大面积留白的错误，但是这种方法很方便，手机上添加歌曲，网站就可以立即更新。<br>在<code>layout/_macro/sidebar.swig</code>文件下:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"music163player"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">280</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=38358214&amp;auto=0&amp;height=66"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h5 id="Aplayer"><a href="#Aplayer" class="headerlink" title="Aplayer"></a>Aplayer</h5><div class="note warning"><p>这个有点难，我综合了两个方案：<br><a href="https://qianling.pw/hexo-optimization/" target="_blank" rel="noopener">方案1</a><br><a href="https://iassas.com/archives/11804e57.html" target="_blank" rel="noopener">方案2</a> </p></div>
<ul>
<li>下载<a href="https://qianling.pw/js/src/custom/APlayer.min.js/" target="_blank" rel="noopener">Aplayer.min.js</a></li>
<li>打开<code>\themes\next\source\js\src\custom\</code></li>
<li>放置<code>APlayer.min.js</code></li>
<li>打开<code>\themes\next\layout\_custom\</code></li>
<li>新建<code>sidebar.swig</code>（也许不用新建？）</li>
<li>写入：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span> <span class="attr">class</span>=<span class="string">"aplayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/src/custom/APlayer.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ap = <span class="keyword">new</span> APlayer(&#123;</span></span><br><span class="line"><span class="javascript">    element: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),                       <span class="comment">// Optional, player element</span></span></span><br><span class="line"><span class="javascript">    narrow: <span class="literal">false</span>,                                                     <span class="comment">// Optional, narrow style</span></span></span><br><span class="line"><span class="javascript">    autoplay: <span class="literal">false</span>,                                                    <span class="comment">// Optional, autoplay song(s), not supported by mobile browsers</span></span></span><br><span class="line"><span class="javascript">    showlrc: <span class="number">0</span>,                                                        <span class="comment">// Optional, show lrc, can be 0, 1, 2, see: ###With lrc</span></span></span><br><span class="line"><span class="javascript">    mutex: <span class="literal">true</span>,                                                       <span class="comment">// Optional, pause other players when this player playing</span></span></span><br><span class="line"><span class="javascript">    theme: <span class="string">'#e6d0b2'</span>,                                                  <span class="comment">// Optional, theme color, default: #b7daff</span></span></span><br><span class="line"><span class="javascript">    mode: <span class="string">'random'</span>,                                                    <span class="comment">// Optional, play mode, can be `random` `single` `circulation`(loop) `order`(no loop), default: `circulation`</span></span></span><br><span class="line"><span class="javascript">    preload: <span class="string">'metadata'</span>,                                               <span class="comment">// Optional, the way to load music, can be 'none' 'metadata' 'auto', default: 'auto'</span></span></span><br><span class="line"><span class="javascript">    listmaxheight: <span class="string">'513px'</span>,                                             <span class="comment">// Optional, max height of play list</span></span></span><br><span class="line"><span class="undefined">    music: [&#123;</span></span><br><span class="line"><span class="javascript">      title: <span class="string">'双笙 囧菌 - 世末歌者'</span>,</span></span><br><span class="line"><span class="javascript">      author: <span class="string">'双笙 囧菌'</span>,</span></span><br><span class="line"><span class="javascript">      url: <span class="string">'https://qianling-1254036047.cos.ap-chengdu.myqcloud.com/music/%E5%8F%8C%E7%AC%99%20%E5%9B%A7%E8%8F%8C%20-%20%E4%B8%96%E6%9C%AB%E6%AD%8C%E8%80%85.mp3'</span>,</span></span><br><span class="line"><span class="javascript">      pic: <span class="string">'https://qianling-1254036047.cos.ap-chengdu.myqcloud.com/music/%E5%8F%8C%E7%AC%99%20%E5%9B%A7%E8%8F%8C%20-%20%E4%B8%96%E6%9C%AB%E6%AD%8C%E8%80%85.webp'</span>,</span></span><br><span class="line"><span class="undefined">    &#125;, &#123;</span></span><br><span class="line"><span class="javascript">      title: <span class="string">'幹物女(WeiWei)'</span>,</span></span><br><span class="line"><span class="javascript">      author: <span class="string">'封茗囧菌'</span>,</span></span><br><span class="line"><span class="javascript">      url: <span class="string">'https://qianling-1254036047.cos.ap-chengdu.myqcloud.com/music/%E5%B0%81%E8%8C%97%E5%9B%A7%E8%8F%8C%20-%20%E5%B9%B9%E7%89%A9%E5%A5%B3(WeiWei).mp3'</span>,</span></span><br><span class="line"><span class="javascript">      pic: <span class="string">'https://qianling-1254036047.cos.ap-chengdu.myqcloud.com/music/%E5%B0%81%E8%8C%97%E5%9B%A7%E8%8F%8C%20-%20%E5%B9%B9%E7%89%A9%E5%A5%B3(WeiWei).webp'</span>,</span></span><br><span class="line"><span class="undefined">    &#125;]</span></span><br><span class="line"><span class="undefined">  &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="为文章摘要设置图片"><a href="#为文章摘要设置图片" class="headerlink" title="为文章摘要设置图片"></a>为文章摘要设置图片</h4><h5 id="在文章的属性列表中添加photos属性"><a href="#在文章的属性列表中添加photos属性" class="headerlink" title="在文章的属性列表中添加photos属性"></a>在文章的属性列表中添加photos属性</h5><p>编写的文章属性中photos默认为文章的配图。<br>如这篇文章：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo Next如何在文章摘要展示图片</span><br><span class="line">date: 2018-07-18 17:43:44</span><br><span class="line">tags: Hexo</span><br><span class="line">categories: Hexo</span><br><span class="line">photos:</span><br><span class="line">    - &quot;https://faithlove.github.io/pic/2018/HexoThumb/topPicPre.png&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h5 id="在你的正文中使用进行截断"><a href="#在你的正文中使用进行截断" class="headerlink" title="在你的正文中使用进行截断"></a>在你的正文中使用<!-- more -->进行截断</h5><p>由于markdown是支持原生html的，所以我们可以在正文引用img来为我们的文章设置摘要配图,在<!-- more -->之前的内容都会展示到摘要中(同时与你主题文件中配置的摘要字数有关).<br>如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo Next如何在文章摘要展示图片</span><br><span class="line">date: 2018-07-18 17:43:44</span><br><span class="line">tags: Hexo</span><br><span class="line">categories: Hexo</span><br><span class="line">---</span><br><span class="line">&lt;img src=&quot;https://faithlove.github.io/pic/2018/RMTP_1/topPicPre.png&quot; width=50% /&gt;</span><br><span class="line">哇，漂亮的小姐姐(❤ ω ❤)</span><br><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="引用链接"><a href="#引用链接" class="headerlink" title="引用链接"></a>引用链接</h3><p><a href="https://blog.csdn.net/qcx321/article/details/53780672" target="_blank" rel="noopener">Markdown语法</a><br><a href="https://imgchr.com" target="_blank" rel="noopener">图床</a><br><a href="http://marxi.co/" target="_blank" rel="noopener">在线编写markdown</a><br><a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">教程1</a><br><a href="https://www.jianshu.com/p/fccfba4ec40c" target="_blank" rel="noopener">教程2</a><br><a href="https://blog.csdn.net/weixin_39345384/article/details/80785373" target="_blank" rel="noopener">教程3</a><br><a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">教程4</a><br><a href="https://qianling.pw/hexo-optimization/" target="_blank" rel="noopener">教程5</a><br><a href="https://theme-next.iissnan.com/theme-settings.html#blogroll" target="_blank" rel="noopener">NexT官网</a><br><a href="https://11.tt/posts/2018/how-to-play-with-live2d-on-hexo/" target="_blank" rel="noopener">看板娘</a><br><a href="http://www.yanwenzi.com" target="_blank" rel="noopener">卖萌颜文字</a><br><a href="https://www.bilibili.com/video/av44544186" target="_blank" rel="noopener">B站教程1</a></p>
<iframe src="//player.bilibili.com/player.html?aid=44544186&cid=77981994&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><br><a href="https://www.bilibili.com/video/av17653359" target="_blank" rel="noopener">B站教程2</a><br><iframe src="//player.bilibili.com/player.html?aid=17653359&cid=28818892&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><br><a href="https://www.bilibili.com/video/av23134593" target="_blank" rel="noopener">B站教程3</a><br><iframe src="//player.bilibili.com/player.html?aid=23134593&cid=38496057&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    Ju5tice
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://jinhuaixin.cn/2019/05/17/hexo下NexT主题配置/" title="hexo下NexT主题配置">http://jinhuaixin.cn/2019/05/17/hexo下NexT主题配置/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/hexo/" rel="tag"><i class="fa fa-coffee"></i> hexo</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/12/微积分证明显示测试/" rel="next" title="一个简单的微积分证明">
                <i class="fa fa-chevron-left"></i> 一个简单的微积分证明
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/13/易腾创想day1/" rel="prev" title="易腾创想day1">
                易腾创想day1 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <a href="https://jinhuaixin.cn"><img class="site-author-image" itemprop="image" src="https://i.loli.net/2019/05/16/5cdd4641958de58203.jpg" alt="Ju5tice"></a>
            
              <p class="site-author-name" itemprop="name">Ju5tice</p>

          <span style="color:red"><p>砥砺前行，永不停息！</p></span>
          
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">




            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
             
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/UESTCjhx" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                 
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:208766617@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                 
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/jin-huai-xin/activities" target="_blank" title="Zhihu">
                      
                        <i class="fa fa-fw fa-book"></i>Zhihu</a>
                 
                  </span>
                
            </div>
           
          

          
          <!-- 网易云音乐插件 -->
          <!--<div>
            
          </div>-->
         
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://haremu.com/" title="后宫学长" target="_blank">后宫学长</a>
                  </li>
                
              </ul>
            </div>
            <!--<div id="music163player">
             <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="//music.163.com/outchain/player?type=0&id=2800969560&auto=0&height=430"></iframe>
             </iframe>
          </div>
          -->

          <div id="player1" class="aplayer" data-id="2058781355" data-server="netease" data-type="playlist" data-mode="circulation"></div>
<script src="/js/src/APlayer.min.js"></script>
<script type="text/javascript">
var ap = new APlayer({
    element: document.getElementById('player1'),                       // Optional, player element
    narrow: false,                                                     // Optional, narrow style
    autoplay: false,                                                    // Optional, autoplay song(s), not supported by mobile browsers
    showlrc: 3,                                                        // Optional, show lrc, can be 0, 1, 2, see: ###With lrc
    mutex: true,                                                       // Optional, pause other players when this player playing
    theme: '#e6d0b2',                                                  // Optional, theme color, default: #b7daff
    mode: 'circulation',                                               // Optional, play mode, can be `random` `single` `circulation`(loop) `order`(no loop), default: `circulation`
    preload: 'metadata',                                               // Optional, the way to load music, can be 'none' 'metadata' 'auto', default: 'auto'
    listmaxheight: '513px',                                            // Optional, max height of play list
    music: [
        {
            title: 'Internationale',                                      // Required, music title
            author: '唐朝乐队',                                               // Required, music author
            url: '/music/国际歌.mp3',                     // Required, music url
            pic: 'https://s2.ax1x.com/2019/05/18/ELObu9.gif',                    // Optional, music picture
            lrc: '/music/国际歌.lrc'                    // Optional, lrc, see: ###With lrc
        },
        {
            title: 'Roundabout',                                          // Required, music title
            author: 'Yes',                                                // Required, music author
            url: '/music/round.mp3',                          // Required, music url
            pic: 'https://s2.ax1x.com/2019/05/18/ELObu9.gif',                          // Optional, music picture
            lrc: '/music/Roundabout-Yes.lrc'                           // Optional, lrc, see: ###With lrc
        },
        {
            title: 'Walk Like An Egyptian',                                          // Required, music title
            author: 'The Bangles',                                           // Required, music author
            url: '/music/walk.mp3',                          // Required, music url
            pic: 'https://s2.ax1x.com/2019/05/18/ELObu9.gif',                         // Optional, music picture
            lrc: '/music/埃及.lrc'                         // Optional, lrc, see: ###With lrc
        },
        {
            title: '回レ! 雪月花',                                          // Required, music title
            author: '歌組雪月花',                                           // Required, music author
            url: '/music/雪.mp3',                          // Required, music url
            pic: '/music/特朗普.jpg',                         // Optional, music picture
            lrc: '/music/雪.lrc'                         // Optional, lrc, see: ###With lrc
        },
        {
            title: '见えない黒に堕ちてゆけ',                                          // Required, music title
            author: 'ALSTRO&MERIA',                                           // Required, music author
            url: '/music/见.mp3',                          // Required, music url
            pic: 'https://s2.ax1x.com/2019/05/18/ELObu9.gif',                         // Optional, music picture
            lrc: '/music/黑.lrc'                         // Optional, lrc, see: ###With lrc
        }
    ]
});
</script>
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#博客设置"><span class="nav-number">1.</span> <span class="nav-text">博客设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#更新文章"><span class="nav-number">1.1.</span> <span class="nav-text">更新文章</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绑定域名"><span class="nav-number">1.2.</span> <span class="nav-text">绑定域名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启用主题"><span class="nav-number">1.3.</span> <span class="nav-text">启用主题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#博文置顶"><span class="nav-number">1.4.</span> <span class="nav-text">博文置顶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置语言"><span class="nav-number">1.5.</span> <span class="nav-text">设置语言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置菜单对应页面"><span class="nav-number">1.6.</span> <span class="nav-text">设置菜单对应页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Blockquoto引用样式"><span class="nav-number">1.7.</span> <span class="nav-text">Blockquoto引用样式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#居中引用"><span class="nav-number">1.7.1.</span> <span class="nav-text">居中引用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bootstrap-Callout-引用"><span class="nav-number">1.7.2.</span> <span class="nav-text">Bootstrap Callout 引用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#主题设置"><span class="nav-number">2.</span> <span class="nav-text">主题设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#修改站点图标"><span class="nav-number">2.1.</span> <span class="nav-text">修改站点图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置头像"><span class="nav-number">2.2.</span> <span class="nav-text">设置头像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代码高亮、可复制"><span class="nav-number">2.3.</span> <span class="nav-text">代码高亮、可复制</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#代码高亮"><span class="nav-number">2.3.1.</span> <span class="nav-text">代码高亮</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#代码可复制"><span class="nav-number">2.3.2.</span> <span class="nav-text">代码可复制</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#背景图片-顶栏、底栏、侧栏图片及文字颜色"><span class="nav-number">2.4.</span> <span class="nav-text">背景图片/顶栏、底栏、侧栏图片及文字颜色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置侧栏左右侧、控制按钮样式"><span class="nav-number">2.5.</span> <span class="nav-text">设置侧栏左右侧、控制按钮样式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#设置侧栏左右"><span class="nav-number">2.5.1.</span> <span class="nav-text">设置侧栏左右</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#显示侧栏时机"><span class="nav-number">2.5.2.</span> <span class="nav-text">显示侧栏时机</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#侧栏控制按钮修改"><span class="nav-number">2.5.3.</span> <span class="nav-text">侧栏控制按钮修改</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置底栏标签"><span class="nav-number">2.6.</span> <span class="nav-text">设置底栏标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文章添加阴影、透明效果"><span class="nav-number">2.7.</span> <span class="nav-text">文章添加阴影、透明效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#点击头像回到首页"><span class="nav-number">2.8.</span> <span class="nav-text">点击头像回到首页</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#仿知乎粒子效果"><span class="nav-number">2.9.</span> <span class="nav-text">仿知乎粒子效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#萌萌哒的看板娘"><span class="nav-number">2.10.</span> <span class="nav-text">萌萌哒的看板娘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#词云"><span class="nav-number">2.11.</span> <span class="nav-text">词云</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#图片放大查看"><span class="nav-number">2.12.</span> <span class="nav-text">图片放大查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#访问量统计"><span class="nav-number">2.13.</span> <span class="nav-text">访问量统计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加文末版权声明"><span class="nav-number">2.14.</span> <span class="nav-text">添加文末版权声明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加本地搜索"><span class="nav-number">2.15.</span> <span class="nav-text">添加本地搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#侧边栏添加音乐播放器"><span class="nav-number">2.16.</span> <span class="nav-text">侧边栏添加音乐播放器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#网易云音乐"><span class="nav-number">2.16.1.</span> <span class="nav-text">网易云音乐</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Aplayer"><span class="nav-number">2.16.2.</span> <span class="nav-text">Aplayer</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#为文章摘要设置图片"><span class="nav-number">2.17.</span> <span class="nav-text">为文章摘要设置图片</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#在文章的属性列表中添加photos属性"><span class="nav-number">2.17.1.</span> <span class="nav-text">在文章的属性列表中添加photos属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在你的正文中使用进行截断"><span class="nav-number">2.17.2.</span> <span class="nav-text">在你的正文中使用进行截断</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用链接"><span class="nav-number">3.</span> <span class="nav-text">引用链接</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ju5tice</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">13k</span>
  
</div>

<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>
-->
<div id="days"></div>
<script>
function show_date_time(){
    window.setTimeout("show_date_time()", 1000);
    BirthDay=new Date("02/10/2019 15:13:14");//修改为自己的blog建站时间
    today=new Date();
    timeold=(today.getTime()-BirthDay.getTime());
    sectimeold=timeold/1000
    secondsold=Math.floor(sectimeold);
    msPerDay=24*60*60*1000
    e_daysold=timeold/msPerDay
    daysold=Math.floor(e_daysold);
    e_hrsold=(e_daysold-daysold)*24;
    hrsold=setzero(Math.floor(e_hrsold));
    e_minsold=(e_hrsold-hrsold)*60;
    minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
    seconds=setzero(Math.floor((e_minsold-minsold)*60));
    document.getElementById('days').innerHTML="此blog已安全运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
function setzero(i){
    if (i<10)
    {i="0" + i};
    return i;
}
show_date_time();
</script>
<div class="font_div">
<a href="http://www.miitbeian.gov.cn/">皖ICP备19002890号</a>
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '61SpWva1LVgronSKuGuu5N3G-gzGzoHsz',
        appKey: 'qt3eys0rbICGVNEMISd7K9jx',
        placeholder: '输入你的评论ヾ(´･ω･｀)ﾉ',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  


  

  

  

   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
